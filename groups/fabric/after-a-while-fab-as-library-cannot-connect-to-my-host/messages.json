[{"user_id": 275, "stars": [], "topic_id": 22019, "date_created": 1304087852.9141641, "message": "I'm using fabric as a library, and after my app has been up for a while, it seems to be unable to connect to the host anymore.", "group_id": 2227, "id": 857098}, {"user_id": 275, "stars": [], "topic_id": 22019, "date_created": 1304087869.121963, "message": "this is after a period of inactivity", "group_id": 2227, "id": 857104}, {"user_id": 275, "stars": [], "topic_id": 22019, "date_created": 1304087871.696733, "message": "i think", "group_id": 2227, "id": 857105}, {"user_id": 275, "stars": [], "topic_id": 22019, "date_created": 1304087895.0778699, "message": "if i reboot the app, i stop getting errors", "group_id": 2227, "id": 857114}, {"user_id": 275, "stars": [], "topic_id": 22019, "date_created": 1304088858.1755991, "message": "i think", "group_id": 2227, "id": 857512}, {"user_id": 275, "stars": [], "topic_id": 22019, "date_created": 1304088856.384418, "message": "well, the ssh sessions themselves are short", "group_id": 2227, "id": 857511}, {"user_id": 275, "stars": [], "topic_id": 22019, "date_created": 1304088904.4075749, "message": "i know that put() would require multiple", "group_id": 2227, "id": 857530}, {"user_id": 275, "stars": [], "topic_id": 22019, "date_created": 1304088872.618891, "message": "does fab make a new ssh connection for each command?", "group_id": 2227, "id": 857516}, {"user_id": 8391, "stars": [], "topic_id": 22019, "date_created": 1304088780.1911421, "message": "Your ssh session may be dying.", "group_id": 2227, "id": 857492}, {"user_id": 8391, "stars": [], "topic_id": 22019, "date_created": 1304088802.5124021, "message": "might need to send a periodic send-alive", "group_id": 2227, "id": 857496}, {"user_id": 275, "stars": [], "topic_id": 22019, "date_created": 1304088891.620219, "message": "(run(), sudo())", "group_id": 2227, "id": 857525}, {"user_id": 275, "stars": [{"date_created": 1304093711.89235, "user_id": 141}], "topic_id": 22019, "date_created": 1304091204.1506169, "message": "Looks like I need to be calling disconnect_all after each run-through to prevent stale connectionz", "group_id": 2227, "id": 858300}, {"user_id": 275, "stars": [], "topic_id": 22019, "date_created": 1304095213.014327, "message": "i'm thinking about a modification to network.py that would take some kind of session identifier", "group_id": 2227, "id": 859530}, {"user_id": 4156, "stars": [], "topic_id": 22019, "date_created": 1304095037.471149, "message": "yea, IIRC it holds open a single TCP parent connection to each server, and each run/sudo/etc is a new session/channel but is still reusing the same basic connection", "group_id": 2227, "id": 859493}, {"user_id": 4156, "stars": [], "topic_id": 22019, "date_created": 1304095101.5133159, "message": "and yea, disconnect_all will actually disconnect that parent session, then attempts to reuse host strings will create brand new connections", "group_id": 2227, "id": 859507}, {"user_id": 4156, "stars": [], "topic_id": 22019, "date_created": 1304095142.814739, "message": "@steveivy - you can also disconnect individual hosts if you want, fabric.state.connections is a dict and the values are Paramiko connection objects that have a .close() method.", "group_id": 2227, "id": 859515}, {"user_id": 275, "stars": [], "topic_id": 22019, "date_created": 1304095180.293993, "message": "@bitprophet - yeah, i've been reading the source.", "group_id": 2227, "id": 859521}, {"user_id": 4156, "stars": [], "topic_id": 22019, "date_created": 1304095075.9643309, "message": "thus a long running Fabric session (meaning the Python process) with periods of network inactivity may be liable to termination by network hardware", "group_id": 2227, "id": 859500}, {"user_id": 275, "stars": [], "topic_id": 22019, "date_created": 1304095265.5297289, "message": "the keys (could) be [somesessionid]user@host:port", "group_id": 2227, "id": 859547}, {"user_id": 275, "stars": [], "topic_id": 22019, "date_created": 1304095239.2904661, "message": "so that, in the connections dict", "group_id": 2227, "id": 859538}, {"user_id": 275, "stars": [], "topic_id": 22019, "date_created": 1304095282.70538, "message": "disconnect_all() could take an optional session key", "group_id": 2227, "id": 859550}, {"user_id": 4156, "stars": [{"date_created": 1304279700.1091061, "user_id": 141}], "topic_id": 22019, "date_created": 1304095612.6015811, "message": "(We're discussing this on IRC now [sorry @ericflo] but will post the resolution in here)", "group_id": 2227, "id": 859629}]
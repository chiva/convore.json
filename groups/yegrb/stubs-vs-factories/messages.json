[{"user_id": 21845, "stars": [], "topic_id": 13377, "date_created": 1300295884.849678, "message": "Factories more so for instrumentation/functional/integration tests.  Stubs & Mocks for unit tests.", "group_id": 4606, "id": 367794}, {"user_id": 2633, "stars": [], "topic_id": 13377, "date_created": 1300297610.4471431, "message": "Stubs are nice for external things, or things you don't care about. An example I like is \"I want to test that this handles printing failure, so I stub this thing to return false when I call print and pass in my object\"", "group_id": 4606, "id": 367943}, {"user_id": 13919, "stars": [], "topic_id": 13377, "date_created": 1300296754.584178, "message": "The problem I've always run in to with factories is that they can get IO bound pretty quickly if there's lots of records flying around and transactions being created. At the same time stubbing is great until your stubs get out of sync with your actual implementation and you fail to realize! At some point it pays to just do a lot of clicking and see what breaks in your app.", "group_id": 4606, "id": 367866}, {"user_id": 13919, "stars": [], "topic_id": 13377, "date_created": 1300296662.4338679, "message": "They've both got their roles to play. I try to use factories to make objects and to test the DB in my model tests. In my intergration and controller tests I'll to avoid hitting the DB as much as possible. One way I do this is by using lots of scopes on my model, and then stubbing out the results of these scopes in my integration/controller tests.", "group_id": 4606, "id": 367857}, {"user_id": 21842, "stars": [], "topic_id": 13377, "date_created": 1300295442.3797281, "message": "Messing around a bit with testing methodologies, and I'm curious to hear some opinions on mocks and stubs vs. factories in your tests.  Where do you use each, what are some pitfalls you've run into with either, etc.", "group_id": 4606, "id": 367743}, {"user_id": 2633, "stars": [], "topic_id": 13377, "date_created": 1300296682.002511, "message": "It definitely depends on what you want to test, even when deciding whether to use a stub or a mock. Factories just make creating a real object easy, so I think they are kind of required (fixtures are silly). Mocks cause tests to fail if expectations aren't met (this method was supposed to be called!), and stubs just return what you tell them to. Exactly what you want to \"test\" in a particular test will dictate which level you want.", "group_id": 4606, "id": 367859}, {"user_id": 21814, "stars": [], "topic_id": 13377, "date_created": 1300299962.6571071, "message": "Both for Cucumber and Rspec.", "group_id": 4606, "id": 368387}, {"user_id": 13919, "stars": [], "topic_id": 13377, "date_created": 1300299923.4557409, "message": "@chrisyour Do you find your tests get slow as your application gets larger? I've started trying to break down my apps into smaller projects but I still find large projects with a lot of factories can get very slow to run unit tests.", "group_id": 4606, "id": 368373}, {"user_id": 13919, "stars": [{"date_created": 1300304021.4050341, "user_id": 21856}], "topic_id": 13377, "date_created": 1300300261.0349741, "message": "We should really have a meetup on testing strategies and tools. Seems like there are lots of great ideas our there.", "group_id": 4606, "id": 368412}, {"user_id": 21814, "stars": [], "topic_id": 13377, "date_created": 1300299939.8087871, "message": "I run spork.", "group_id": 4606, "id": 368378}, {"user_id": 21814, "stars": [], "topic_id": 13377, "date_created": 1300299952.83899, "message": "And then I filter through stakeout scripts.", "group_id": 4606, "id": 368383}, {"user_id": 21814, "stars": [], "topic_id": 13377, "date_created": 1300299839.0171919, "message": "I find that stubbing an object isn't really all that practical. I use a lot of Factories.", "group_id": 4606, "id": 368357}, {"user_id": 21814, "stars": [], "topic_id": 13377, "date_created": 1300299848.793565, "message": "I", "group_id": 4606, "id": 368359}, {"user_id": 21814, "stars": [], "topic_id": 13377, "date_created": 1300299934.881794, "message": "Nope.", "group_id": 4606, "id": 368377}, {"user_id": 21814, "stars": [], "topic_id": 13377, "date_created": 1300300003.3660769, "message": "When I run a complete test suite it takes a few minutes for each. Not too bad.", "group_id": 4606, "id": 368390}, {"user_id": 21814, "stars": [], "topic_id": 13377, "date_created": 1300300262.238456, "message": "Yep. A slightly modified stakeout.rb.", "group_id": 4606, "id": 368413}, {"user_id": 13919, "stars": [], "topic_id": 13377, "date_created": 1300300227.3881159, "message": "@chrisyour are you talking about stakeout.rb? it doesn't work on Ubuntu so I haven't used it, but I've used watchr/autotest to the same effect. That definitely helps out.", "group_id": 4606, "id": 368408}, {"user_id": 21814, "stars": [], "topic_id": 13377, "date_created": 1300299863.7611139, "message": "l'll stub a user to login and out with. That's about it.", "group_id": 4606, "id": 368361}, {"user_id": 21814, "stars": [], "topic_id": 13377, "date_created": 1300300455.45822, "message": "You could possibly create your own Ubuntu-stakeout.", "group_id": 4606, "id": 368438}, {"user_id": 21814, "stars": [], "topic_id": 13377, "date_created": 1300300482.397356, "message": "Passing parameters to stakeout makes it incredibly handy.", "group_id": 4606, "id": 368441}, {"user_id": 21856, "stars": [], "topic_id": 13377, "date_created": 1300304196.4261501, "message": "@MarkBennett that would be a great meetup", "group_id": 4606, "id": 368965}, {"user_id": 21844, "stars": [], "topic_id": 13377, "date_created": 1300311820.4934981, "message": "@MarkBennett I know! I found a mention in the comments of Peter Cooper's RSpec article (http://www.rubyinside.com/how-to-rails-3-and-rspec-2-4336.html). Took a look, and started hauling in their plugins. So freaking sweet. I especially like the spork integration which can reload on changes to config/environment.rb, etc.", "group_id": 4606, "id": 369658}, {"user_id": 21844, "stars": [], "topic_id": 13377, "date_created": 1300311418.323184, "message": "@MarkBennett you might want to checkout guard (https://github.com/guard/guard) which kicked my old autotest config in the garbage. There is a livereload plugin for it which has changed the way I work on the html/css.", "group_id": 4606, "id": 369623}, {"user_id": 13919, "stars": [], "topic_id": 13377, "date_created": 1300311630.918031, "message": "@fnichol how have I never seen guard before? That's awesome! :)", "group_id": 4606, "id": 369649}, {"user_id": 21814, "stars": [], "topic_id": 13377, "date_created": 1300314886.204056, "message": "Guard-rspec looks interesting. How would you use it to run something like: rspec spec -e \"Post validations\"", "group_id": 4606, "id": 369817}, {"user_id": 21842, "stars": [], "topic_id": 13377, "date_created": 1300320518.013355, "message": "@MarkBennett I'd also love to see a testing meetup", "group_id": 4606, "id": 370292}, {"user_id": 21842, "stars": [], "topic_id": 13377, "date_created": 1300320156.662535, "message": "Most of my style comes from railstutorial.org because it's what I used to learn Rails when I was writing Alertzy.  He went from using stubs/mocks in the Rails 2 version to only using factories in Rails 3 based on limited gain he saw from using stubs/mocks relative to the additional complexity it added to his tutorial.", "group_id": 4606, "id": 370241}, {"user_id": 21842, "stars": [], "topic_id": 13377, "date_created": 1300320246.3817639, "message": "I can see the advantage of mocking a model to let you flesh out the functionality you want in your controller before you've written the model, but once the model is in place it seems a little un-DRY to me.  If you modify your model you'll need to implement the changes in the mocks to keep your controllers passing.  Is there a good way to test that your mock models are in sync with your actual models?", "group_id": 4606, "id": 370255}, {"user_id": 21844, "stars": [], "topic_id": 13377, "date_created": 1300328536.970032, "message": "@chrisyour You can check out around line 19 in https://gist.github.com/873737 for how I'm monitoring RSpec. The watch argument is what file pattern to monitor and the block contains the arguments passed to rspec on the command line", "group_id": 4606, "id": 370937}, {"user_id": 21844, "stars": [], "topic_id": 13377, "date_created": 1300328640.9813631, "message": "@chrisyour but I esp. like the guard-bundler which will autorun 'bundle install' when you add to your Gemfile", "group_id": 4606, "id": 370946}, {"user_id": 21814, "stars": [], "topic_id": 13377, "date_created": 1300388303.3043311, "message": "@fnichol Cool. Thanks.", "group_id": 4606, "id": 376648}]
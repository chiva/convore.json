[{"user_id": 1736, "stars": [], "topic_id": 18421, "date_created": 1302466851.09484, "message": "So what issues are causing test conflicts between pg and sqlite?", "group_id": 7079, "id": 613293}, {"user_id": 9896, "stars": [], "topic_id": 18421, "date_created": 1302467579.4448969, "message": "i can live perfectly fine without", "group_id": 7079, "id": 613417}, {"user_id": 1398, "stars": [], "topic_id": 18421, "date_created": 1302468612.4297521, "message": "Is someone willing to own \"starting JSON fixtures work cross-DB across Sqlite and PostGreSQL\"?", "group_id": 7079, "id": 613643}, {"user_id": 1736, "stars": [], "topic_id": 18421, "date_created": 1302467116.7561531, "message": "Whats the error? Some kind of constraint conflict?", "group_id": 7079, "id": 613349}, {"user_id": 7, "stars": [], "topic_id": 18421, "date_created": 1302467167.1718359, "message": "fixtures are supposed to be cross DB fine, except sqlite doesn't enforce many constraints that pgsql will", "group_id": 7079, "id": 613355}, {"user_id": 1736, "stars": [], "topic_id": 18421, "date_created": 1302467416.2443221, "message": "@audreyr For new devs that is going to be a huuuuuge barrier to entry", "group_id": 7079, "id": 613381}, {"user_id": 1736, "stars": [], "topic_id": 18421, "date_created": 1302467541.2913511, "message": "Can you link to the broken fixture and/or pastebin the error trace/message?", "group_id": 7079, "id": 613407}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302468094.5112741, "message": "and if it's a choice between a) dropping SQLite support and launching pythonpackages/migrating djangopackages this week and b) working on fixtures for the next month and postponing launch/migration", "group_id": 7079, "id": 613520}, {"user_id": 12620, "stars": [], "topic_id": 18421, "date_created": 1302468318.6111319, "message": "@ojidotch it was a sticking point for getting the n00bs here a working dev environment, the workaround of \"use postgres\" just seemed heavy handed, though I think we've all worked around now", "group_id": 7079, "id": 613573}, {"user_id": 1736, "stars": [], "topic_id": 18421, "date_created": 1302468387.4321771, "message": "@audreyr Saying you are only going to support loading this snapshot into postgres is very different from dropping sqlite for devs", "group_id": 7079, "id": 613594}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302468390.9557359, "message": "@coderanger yes. it's all we've got right now. there's a ticket somewhere to create a sample project with sample fixtures", "group_id": 7079, "id": 613596}, {"user_id": 844, "stars": [], "topic_id": 18421, "date_created": 1302468035.116672, "message": "If you thought installing Python on Windows was tricky (and it is not IMHO) I still can't get Psql going on windows and it was a bear on Unix for me at least..So as @coderanger says you will cut a bunch of people out..", "group_id": 7079, "id": 613496}, {"user_id": 1736, "stars": [], "topic_id": 18421, "date_created": 1302467164.1914439, "message": "That likely means that some code somewhere is violating an invariant condition and SQLite doesn't catch it", "group_id": 7079, "id": 613354}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302467090.921859, "message": "The biggest issue is that fixtures exported via \"python manage.py dumpdata\" from Packaginator SQLite can't be loaded into Packaginator Psql w/ \"python manage.py loaddata\"", "group_id": 7079, "id": 613346}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302467370.5891359, "message": "Also, it's easier to get devs set up locally w/ one choice than two, and if we have to pick one, psql is what we prefer", "group_id": 7079, "id": 613376}, {"user_id": 1736, "stars": [], "topic_id": 18421, "date_created": 1302467464.664005, "message": "or possibly a bug in the data itself", "group_id": 7079, "id": 613388}, {"user_id": 9896, "stars": [], "topic_id": 18421, "date_created": 1302467551.269099, "message": "since you don't *need* the fixtures", "group_id": 7079, "id": 613412}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302468020.9253111, "message": "I agree that it would be fantastic to have fixtures that work in any db. It's just that we only have so much time and have already spent 3 days trying to debug broken fixtures (2 at PyCon, 1 here)", "group_id": 7079, "id": 613491}, {"user_id": 1736, "stars": [], "topic_id": 18421, "date_created": 1302468559.8479879, "message": "I just wouldn't think I need that when I'm starting out hacking on Packaginator, maybe some time down the line though", "group_id": 7079, "id": 613635}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302467267.8755119, "message": "@coderanger Yes,exactly", "group_id": 7079, "id": 613362}, {"user_id": 9896, "stars": [], "topic_id": 18421, "date_created": 1302467546.1153679, "message": "not really", "group_id": 7079, "id": 613409}, {"user_id": 9896, "stars": [], "topic_id": 18421, "date_created": 1302468373.5043931, "message": "that's what we are doing right now with our test suite", "group_id": 7079, "id": 613589}, {"user_id": 7, "stars": [], "topic_id": 18421, "date_created": 1302467146.013124, "message": "Sounds like a bug in the fxitures you generate", "group_id": 7079, "id": 613352}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302467244.284327, "message": "We found during the PyCon Packaginator sprints that you had to dumpdata auth.User and auth.Group specifically rather than auth, for example.", "group_id": 7079, "id": 613361}, {"user_id": 12620, "stars": [], "topic_id": 18421, "date_created": 1302467796.884953, "message": "we should definitely be trying to fix the fixtures rather than proving an SQL dump, then we stay DB-agnostic", "group_id": 7079, "id": 613453}, {"user_id": 1398, "stars": [], "topic_id": 18421, "date_created": 1302468477.5696189, "message": "We all love each other. :)", "group_id": 7079, "id": 613619}, {"user_id": 1736, "stars": [], "topic_id": 18421, "date_created": 1302467458.9722099, "message": "And given that I know for sure that contrib.auth fixures work across both DBs (since my CB is currently doing exactly that), this seems like it is a bug elsewhere", "group_id": 7079, "id": 613387}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302467853.3842101, "message": "The broken fixtures are in https://github.com/cartwheelweb/packaginator/blob/master/fixtures/ - sanitized.json.bz2", "group_id": 7079, "id": 613460}, {"user_id": 1398, "stars": [], "topic_id": 18421, "date_created": 1302468621.3295751, "message": "Maybe I should write a ticket?", "group_id": 7079, "id": 613647}, {"user_id": 9896, "stars": [], "topic_id": 18421, "date_created": 1302468988.321202, "message": "okay, can't do it today though since it's already 11pm", "group_id": 7079, "id": 613752}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302469010.0311451, "message": "@ojiidotch np", "group_id": 7079, "id": 613759}, {"user_id": 9896, "stars": [], "topic_id": 18421, "date_created": 1302469028.7167661, "message": "but wanna find myself another bug", "group_id": 7079, "id": 613763}, {"user_id": 9896, "stars": [], "topic_id": 18421, "date_created": 1302467419.4547441, "message": "okay so just because fixtures are broken you want to change the default to use postgres even in local development?", "group_id": 7079, "id": 613382}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302467518.3326011, "message": "Having broken fixtures is a bigger barrier to entry than having to follow the psql install instructions that we're working on now", "group_id": 7079, "id": 613401}, {"user_id": 9896, "stars": [], "topic_id": 18421, "date_created": 1302468442.369935, "message": "yea probably", "group_id": 7079, "id": 613611}, {"user_id": 9896, "stars": [], "topic_id": 18421, "date_created": 1302468175.2142899, "message": "why are those fixtures so important exactly'", "group_id": 7079, "id": 613542}, {"user_id": 9896, "stars": [], "topic_id": 18421, "date_created": 1302468391.4226551, "message": "because fixtures just proved to be impractical and impossible to maintain", "group_id": 7079, "id": 613597}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302468960.091908, "message": "I'm ok with a script too", "group_id": 7079, "id": 613749}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302468119.3928511, "message": "unless others with more experience are willing to put together working, db-agnostic fixtures ;)", "group_id": 7079, "id": 613530}, {"user_id": 9896, "stars": [], "topic_id": 18421, "date_created": 1302468631.6061211, "message": "@pydanny can I do it with something other than JSON?", "group_id": 7079, "id": 613650}, {"user_id": 9896, "stars": [], "topic_id": 18421, "date_created": 1302468648.730232, "message": "(replace them with a python script ;-)", "group_id": 7079, "id": 613655}, {"user_id": 1398, "stars": [], "topic_id": 18421, "date_created": 1302468823.700624, "message": "Maybe @alex can look into the dumpdata thing. :)", "group_id": 7079, "id": 613713}, {"user_id": 23028, "stars": [], "topic_id": 18421, "date_created": 1302468824.704926, "message": "trying to get up to speed here, are there any tickets I can look related to the sqlite/pgsql headache? I'd gladly work on making things \"work\" for both", "group_id": 7079, "id": 613714}, {"user_id": 12620, "stars": [], "topic_id": 18421, "date_created": 1302467818.8408511, "message": "i'm scrolling back to find the DB dump error, I didn't spend a lot of time debugging", "group_id": 7079, "id": 613455}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302468099.4227819, "message": "then a) is the better one", "group_id": 7079, "id": 613522}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302468183.9595411, "message": "and migration of djangopackages", "group_id": 7079, "id": 613544}, {"user_id": 1736, "stars": [], "topic_id": 18421, "date_created": 1302468346.0271261, "message": "@audreyr This looks like a full snapshot from djangopackages?", "group_id": 7079, "id": 613581}, {"user_id": 9896, "stars": [], "topic_id": 18421, "date_created": 1302468361.9557531, "message": "@audreyr maybe replace them with something like 'loadinitialdata.py' which just does it using the ORM", "group_id": 7079, "id": 613584}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302468305.6042089, "message": "@ojiidotch if you're working on something like grid permissions, you need data to work with", "group_id": 7079, "id": 613567}, {"user_id": 9896, "stars": [], "topic_id": 18421, "date_created": 1302468331.559108, "message": "@audreyr for tests?", "group_id": 7079, "id": 613577}, {"user_id": 1736, "stars": [], "topic_id": 18421, "date_created": 1302468434.3771429, "message": "Methinks this may just be a miscommunication", "group_id": 7079, "id": 613608}, {"user_id": 1736, "stars": [], "topic_id": 18421, "date_created": 1302468419.0225101, "message": "@audreyr A dev can still fire up a local server on sqlite and make a patch for something, they just can't load this snapshot", "group_id": 7079, "id": 613605}, {"user_id": 1736, "stars": [], "topic_id": 18421, "date_created": 1302468528.8206539, "message": "/me can entirely get behind only offering real-world snapshots as postgres data files, that is entirely reasonable :-)", "group_id": 7079, "id": 613631}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302469004.9150519, "message": "Anyone who works on anything fixture- or script related gets extra <3's from me and @pydanny", "group_id": 7079, "id": 613758}, {"user_id": 1398, "stars": [], "topic_id": 18421, "date_created": 1302469870.5870399, "message": "@sente we don't have any defined tickets. The consensus is to have some write a data generating script in Python using the ORM. Or to have someone dump the data properly into formats that SQLite3 and PGSQL can handle", "group_id": 7079, "id": 613870}, {"user_id": 1398, "stars": [], "topic_id": 18421, "date_created": 1302469925.5470469, "message": "@sente the problem is that because of contenttype issues, and some hard to identify signals buried in our accounts system reloading fixtures is problematic into SQLite3", "group_id": 7079, "id": 613875}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302470782.7987261, "message": "that last comment was directed at @coderanger", "group_id": 7079, "id": 614022}, {"user_id": 1822, "stars": [], "topic_id": 18421, "date_created": 1302473468.2534521, "message": "concur", "group_id": 7079, "id": 614583}, {"user_id": 1398, "stars": [], "topic_id": 18421, "date_created": 1302468765.4586141, "message": "I kind of like the idea of a script.", "group_id": 7079, "id": 613688}, {"user_id": 1398, "stars": [], "topic_id": 18421, "date_created": 1302468775.3432829, "message": "That helps avoid some of the issues with have with hidden signals", "group_id": 7079, "id": 613693}, {"user_id": 9896, "stars": [], "topic_id": 18421, "date_created": 1302468805.3603549, "message": "just means you can't \"dumpdata\" that easy", "group_id": 7079, "id": 613702}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302469024.5350831, "message": "fixture-script, I mean", "group_id": 7079, "id": 613761}, {"user_id": 1398, "stars": [], "topic_id": 18421, "date_created": 1302469945.0905039, "message": "Sorry, \"reloading fixtures is problematic into PGSQL\"", "group_id": 7079, "id": 613879}, {"user_id": 23028, "stars": [], "topic_id": 18421, "date_created": 1302470366.565182, "message": "hmm", "group_id": 7079, "id": 613948}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302470917.7588079, "message": "They are sqlite to postgres migration errors.", "group_id": 7079, "id": 614065}, {"user_id": 23028, "stars": [], "topic_id": 18421, "date_created": 1302470454.5465939, "message": "can you point me to a current fixture which doesn't load into sqlite but does pgsql?", "group_id": 7079, "id": 613957}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302470623.237072, "message": "Our Djangopackages.com sqlite3 -> postgresql migration troubles are documented in-depth by Nate and myself at http://packaginator.readthedocs.org/en/latest/db_long_version.html", "group_id": 7079, "id": 613995}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302470720.8767059, "message": "IntegrityError: duplicate key value violates unique constraint \u201cauth_permission_content_type_id_key\u201d\n-> You need to export only auth.User and auth.Group but not auth.Permissions is what @honzakral showed us during the PyCon sprints", "group_id": 7079, "id": 614012}, {"user_id": 23028, "stars": [], "topic_id": 18421, "date_created": 1302470859.082181, "message": "these seem like Postgres errors not sqlite errors?", "group_id": 7079, "id": 614043}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302473126.7437119, "message": "I've assigned https://github.com/cartwheelweb/packaginator/issues/76 to @ojiidotch.  @ptone @sente @tmitchell @coderanger @dartdog and anyone else with strong interest in keeping sqlite support in packaginator, please take this issue once @ojiidotch is done with the fixture script", "group_id": 7079, "id": 614474}, {"user_id": 1398, "stars": [], "topic_id": 18421, "date_created": 1302473413.4409039, "message": "I would love to be database agnostic for initial devs.", "group_id": 7079, "id": 614559}, {"user_id": 1398, "stars": [], "topic_id": 18421, "date_created": 1302473400.1543241, "message": "I think we can deal with the DB stuff post-sprint", "group_id": 7079, "id": 614554}, {"user_id": 1398, "stars": [], "topic_id": 18421, "date_created": 1302473429.968801, "message": "For now, there are many, many tickets to resolve that are of higher priority", "group_id": 7079, "id": 614564}, {"user_id": 1398, "stars": [], "topic_id": 18421, "date_created": 1302473448.121613, "message": "I say we table this discussion until tomorrow", "group_id": 7079, "id": 614574}, {"user_id": 15046, "stars": [{"date_created": 1302474604.267915, "user_id": 1822}], "topic_id": 18421, "date_created": 1302474546.161546, "message": "@ptone Hope it helps", "group_id": 7079, "id": 614836}, {"user_id": 1822, "stars": [], "topic_id": 18421, "date_created": 1302473252.460633, "message": "I'm less about sqlite specifically, and more about not putting up hurldes for someone who might want to run a packaginator instance on mysql - django is about being db agnostic and I don't know why packaginator can't be as well - but that area isn't a priority for me at the moment", "group_id": 7079, "id": 614514}, {"user_id": 1398, "stars": [], "topic_id": 18421, "date_created": 1302474223.522949, "message": "Hey @ptone when @ojiidotch is done is thing, I think https://github.com/cartwheelweb/packaginator/issues/76 applies. :)", "group_id": 7079, "id": 614738}, {"user_id": 15046, "stars": [], "topic_id": 18421, "date_created": 1302474527.5157759, "message": "@ptone I've broken down what you said into baby steps in issue #76", "group_id": 7079, "id": 614828}, {"user_id": 1398, "stars": [{"date_created": 1302736303.5334001, "user_id": 1398}], "topic_id": 18421, "date_created": 1302736298.210149, "message": "Why we aren't migrating to SQLite3: http://readthedocs.org/docs/packaginator/en/latest/faq.html#what-happened-to-the-fixtures-i-want-to-fire-up-sqlite", "group_id": 7079, "id": 673540}, {"user_id": 1822, "stars": [], "topic_id": 18421, "date_created": 1302741102.3361299, "message": "dude did you just self-star?", "group_id": 7079, "id": 674449}]
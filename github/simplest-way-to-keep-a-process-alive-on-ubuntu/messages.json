[{"user_id": 7295, "stars": [{"date_created": 1302163161.659163, "user_id": 13893}], "topic_id": 16316, "date_created": 1301516147.693639, "message": "something is usually very wrong on your system if nginx is crashing though", "group_id": 591, "id": 484783}, {"user_id": 1664, "stars": [{"date_created": 1301579277.702076, "user_id": 1243}], "topic_id": 16316, "date_created": 1301516155.988831, "message": "daemontools, god, upstart, while loop :)", "group_id": 591, "id": 484784}, {"user_id": 1664, "stars": [], "topic_id": 16316, "date_created": 1301516158.8609419, "message": "take your pick", "group_id": 591, "id": 484785}, {"user_id": 1664, "stars": [], "topic_id": 16316, "date_created": 1301516182.9394751, "message": "yeah, fuck that", "group_id": 591, "id": 484789}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301516191.175009, "message": "this is my first experience with ubuntu", "group_id": 591, "id": 484792}, {"user_id": 7295, "stars": [], "topic_id": 16316, "date_created": 1301516111.2115271, "message": "https://github.com/mojombo/god", "group_id": 591, "id": 484780}, {"user_id": 7295, "stars": [{"date_created": 1301517198.04651, "user_id": 16}, {"date_created": 1301518347.777283, "user_id": 3795}], "topic_id": 16316, "date_created": 1301516205.2648909, "message": "learning ruby is easier than daemontools", "group_id": 591, "id": 484795}, {"user_id": 7375, "stars": [{"date_created": 1301523255.3565331, "user_id": 8391}, {"date_created": 1301534166.689455, "user_id": 141}, {"date_created": 1301579330.1193881, "user_id": 1243}], "topic_id": 16316, "date_created": 1301516446.2520511, "message": "supervisor http://pypi.python.org/pypi/supervisor/3.0a10 also on github https://github.com/Supervisor/supervisor", "group_id": 591, "id": 484844}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301516183.539814, "message": "yeah i dunno why god is crashing", "group_id": 591, "id": 484790}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301516186.0237629, "message": "err, nginx", "group_id": 591, "id": 484791}, {"user_id": 1664, "stars": [], "topic_id": 16316, "date_created": 1301516272.2283211, "message": "then svc -u /var/lib/service/nginx (for example)", "group_id": 591, "id": 484805}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301516301.4392071, "message": "@rodjek i picked ubuntu because i figured it would have the most blog posts on the internet explaining \"How to setup nginx + passenger on ubuntu in 2 steps!\"", "group_id": 591, "id": 484813}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301515777.668009, "message": "any suggestions?", "group_id": 591, "id": 484734}, {"user_id": 7295, "stars": [], "topic_id": 16316, "date_created": 1301516263.8272851, "message": "i do too, the filesystem layout always frustrated me", "group_id": 591, "id": 484803}, {"user_id": 1664, "stars": [], "topic_id": 16316, "date_created": 1301516317.43856, "message": "hah, that'll teach you", "group_id": 591, "id": 484821}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301516428.6165221, "message": "but then i still have to keep @evilbot alive", "group_id": 591, "id": 484837}, {"user_id": 140, "stars": [], "topic_id": 16316, "date_created": 1301516443.9053781, "message": "http://www.answersingenesis.org/assets/images/articles/nab/some-god-of-love.jpg", "group_id": 591, "id": 484843}, {"user_id": 1664, "stars": [], "topic_id": 16316, "date_created": 1301516245.452059, "message": "daemontools involes dropping your command into a run.sh file and making it executable", "group_id": 591, "id": 484800}, {"user_id": 1664, "stars": [{"date_created": 1301579296.3346429, "user_id": 1243}], "topic_id": 16316, "date_created": 1301516195.438983, "message": "daemontools++ :)", "group_id": 591, "id": 484793}, {"user_id": 1664, "stars": [], "topic_id": 16316, "date_created": 1301516202.9532039, "message": "y u no debian??", "group_id": 591, "id": 484794}, {"user_id": 1664, "stars": [], "topic_id": 16316, "date_created": 1301516221.98563, "message": "atmos: WHAT?", "group_id": 591, "id": 484796}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301516309.341116, "message": "and i did get all that shit working super fast, but now it's not staying working", "group_id": 591, "id": 484817}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301516423.5246241, "message": "it might be easier for me to merge the couchdb stuff for hurl and run it on heroku", "group_id": 591, "id": 484835}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301515740.7261679, "message": "this is on my personal vps, i run http://hurl.it and @evilbot off it", "group_id": 591, "id": 484729}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301515752.3597009, "message": "i want to do the least work possible", "group_id": 591, "id": 484730}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301515753.513521, "message": "e.g. no work", "group_id": 591, "id": 484731}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301515775.043591, "message": "i have nginx running under init.d but it keeps dying, so either i set it up wrong or it just doesn't work great", "group_id": 591, "id": 484733}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301516176.99385, "message": "pfft god requires i learn ruby", "group_id": 591, "id": 484788}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301516232.1790891, "message": "i love djb", "group_id": 591, "id": 484798}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301516236.938056, "message": "maybe i'll take the plunge", "group_id": 591, "id": 484799}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301516430.145627, "message": "daemontools it is", "group_id": 591, "id": 484838}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301516432.2540009, "message": "with god as a backup plan", "group_id": 591, "id": 484839}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301516441.3597081, "message": "@evilbot image me god", "group_id": 591, "id": 484842}, {"user_id": 1604, "stars": [], "topic_id": 16316, "date_created": 1301516955.234446, "message": "Why do you talk about way to relaunch it? It's not better to find out why it keeps crashing?", "group_id": 591, "id": 484899}, {"user_id": 1664, "stars": [], "topic_id": 16316, "date_created": 1301517023.815213, "message": "@Nikkau bandaid solution to ensure uptime while the problem is being investigated?", "group_id": 591, "id": 484914}, {"user_id": 7375, "stars": [], "topic_id": 16316, "date_created": 1301516535.991811, "message": "supervisor is the moral equivalent of daemontools written in python", "group_id": 591, "id": 484858}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301517076.577754, "message": "@Nikkau it is better, but i have a job :)", "group_id": 591, "id": 484922}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301517079.5021329, "message": "hurl might be down for hours and hours", "group_id": 591, "id": 484923}, {"user_id": 9389, "stars": [], "topic_id": 16316, "date_created": 1301529129.1877029, "message": "wouldn't need the bash login for nginx, but we do need it for mongrels and such.", "group_id": 591, "id": 485915}, {"user_id": 9389, "stars": [{"date_created": 1301897543.5341761, "user_id": 8605}], "topic_id": 16316, "date_created": 1301528985.7056429, "message": "We have been using monit for a while, and most recently figured out how to use it with RVM system installs on Ubuntu. Lessons learned: 1) Use 10.04 LTS not the latest. 2) RVM recently made a big change to the way system-wide installs work, so Monit is actually pretty straightforward and PATH loads nicely by simulating a login shell: start program = \"/bin/bash -l -c 'your_command_here'\"", "group_id": 591, "id": 485894}, {"user_id": 9262, "stars": [{"date_created": 1301654175.496753, "user_id": 16058}], "topic_id": 16316, "date_created": 1301527580.112509, "message": "we are using monit from years - memory, process etc. monitoring, restarting, have web interface too", "group_id": 591, "id": 485788}, {"user_id": 9389, "stars": [{"date_created": 1301540294.5368659, "user_id": 9262}], "topic_id": 16316, "date_created": 1301529860.0429151, "message": "use a really basic monitrc https://gist.github.com/895555 and put `@reboot monit -c /path/to/your/monitrc` in crontab", "group_id": 591, "id": 485983}, {"user_id": 2142, "stars": [], "topic_id": 16316, "date_created": 1301534313.9781511, "message": "for monitoring process lifetime, upstart is fine after you find the doc: `man 5 init`", "group_id": 591, "id": 486513}, {"user_id": 2142, "stars": [], "topic_id": 16316, "date_created": 1301534366.1429651, "message": "http://serverfault.com/questions/143461/how-can-i-start-nginx-via-upstart", "group_id": 591, "id": 486528}, {"user_id": 2142, "stars": [], "topic_id": 16316, "date_created": 1301534230.3196731, "message": "maybe try the passenger-standalone version, it's basically a patched nginx+ruby. that way you avoid mismatch versions between the passenger module and nginx.", "group_id": 591, "id": 486484}, {"user_id": 2142, "stars": [], "topic_id": 16316, "date_created": 1301534497.118144, "message": "@AdamJT: does monit still rely on pid files to work properly ? that's not one of the best design", "group_id": 591, "id": 486552}, {"user_id": 9262, "stars": [], "topic_id": 16316, "date_created": 1301540241.8552339, "message": "@zimbatm It can check PIDs, ports or query directly the service via HTTP and inspect some answer. But for processes, yes, it is looking for pid files.", "group_id": 591, "id": 487344}, {"user_id": 218, "stars": [{"date_created": 1301586484.559283, "user_id": 8391}], "topic_id": 16316, "date_created": 1301548868.1214609, "message": "+1 for supervisor", "group_id": 591, "id": 488506}, {"user_id": 3, "stars": [], "topic_id": 16316, "date_created": 1301553056.0269439, "message": "i can't ever use monit again after using it at a previous job", "group_id": 591, "id": 489314}, {"user_id": 18620, "stars": [], "topic_id": 16316, "date_created": 1301581689.398936, "message": "I'm really surprised nobody has mentioned runit (http://smarden.org/runit/) as an option.", "group_id": 591, "id": 492371}, {"user_id": 2633, "stars": [{"date_created": 1301604640.6255269, "user_id": 1243}, {"date_created": 1302332196.659333, "user_id": 12202}], "topic_id": 16316, "date_created": 1301587939.0828769, "message": "I've become a fan of upstart lately. Built in and just works. daemontools (the supervise executable specifically) works great too.", "group_id": 591, "id": 493252}, {"user_id": 9389, "stars": [{"date_created": 1301540293.0870221, "user_id": 9262}], "topic_id": 16316, "date_created": 1301529817.4023581, "message": "Simplest Thing That Could Possibly Work: install libevent stable http://monkey.org/~provos/libevent-2.0.10-stable.tar.gz then install monit http://mmonit.com/monit/dist/monit-5.2.5.tar.gz", "group_id": 591, "id": 485979}, {"user_id": 7400, "stars": [{"date_created": 1301619185.565516, "user_id": 25106}], "topic_id": 16316, "date_created": 1301617315.0972011, "message": "+1 for daemontools (http://cr.yp.to/daemontools.html). I've been using it for years now and the combination of svc and multilog makes creating and managing daemons very simple", "group_id": 591, "id": 497917}, {"user_id": 25106, "stars": [{"date_created": 1301999902.606909, "user_id": 1243}], "topic_id": 16316, "date_created": 1301619232.434727, "message": "This site really helped me learn how to use daemontools: http://thedjbway.b0llix.net/", "group_id": 591, "id": 498071}, {"user_id": 16058, "stars": [], "topic_id": 16316, "date_created": 1301654305.305969, "message": "monit rocks. Really small and fast, nice web interface", "group_id": 591, "id": 500522}, {"user_id": 19797, "stars": [], "topic_id": 16316, "date_created": 1301894292.4798241, "message": "I don't know if it helps, but here's my VPS setup for Apache + Passenger and it has been rock solid (except for that one time I ran out of disk space, oops). https://github.com/ryanb/railscasts/wiki/Server-Setup", "group_id": 591, "id": 520732}, {"user_id": 19952, "stars": [], "topic_id": 16316, "date_created": 1301930899.1162879, "message": "while true; do stuff; done; # :)", "group_id": 591, "id": 524035}, {"user_id": 2576, "stars": [], "topic_id": 16316, "date_created": 1301933319.4429071, "message": "+1 for monit. super simple and already has built-in for a bunch of protocols.", "group_id": 591, "id": 524323}, {"user_id": 779, "stars": [], "topic_id": 16316, "date_created": 1301965079.8386321, "message": "Simplest way: screen\nGeeky alternative: tmux", "group_id": 591, "id": 531633}, {"user_id": 779, "stars": [], "topic_id": 16316, "date_created": 1301965101.9433229, "message": "BTW: this is NOT reboot safe. But then again your title is not really specific, now is it!", "group_id": 591, "id": 531639}, {"user_id": 11223, "stars": [], "topic_id": 16316, "date_created": 1301981844.3014359, "message": "have a look at the slicehost tutorials for ubuntu+nginx", "group_id": 591, "id": 535685}, {"user_id": 11223, "stars": [], "topic_id": 16316, "date_created": 1301981865.955472, "message": "or post your nginx config file to serverfault.com", "group_id": 591, "id": 535701}, {"user_id": 11223, "stars": [{"date_created": 1301999897.3648729, "user_id": 1243}], "topic_id": 16316, "date_created": 1301981743.489526, "message": "Do NOT use god to solve your broken nginx install.  nginx should be about as stable as ubuntu itself.  Look at your nginx-err logs and syslog to figure out why nginx is crashing.  band-aid solutions are not what you want.", "group_id": 591, "id": 535660}, {"user_id": 13893, "stars": [], "topic_id": 16316, "date_created": 1302163329.7843151, "message": "The simplest way of all is $ nohup [service]&", "group_id": 591, "id": 573352}, {"user_id": 13893, "stars": [], "topic_id": 16316, "date_created": 1302163429.2255521, "message": "But seriously dude, check your configs. Nginx is like the last thing that crashes.", "group_id": 591, "id": 573383}, {"user_id": 13912, "stars": [], "topic_id": 16316, "date_created": 1302168902.2631061, "message": "We've run nginx on everything from 128mb VPSs to 24GB 4 core servers. I even run it on my sparc lite NAS. Distros from debian 3, to arch, to debian 6 It has never died on me, ever.", "group_id": 591, "id": 573994}, {"user_id": 13912, "stars": [], "topic_id": 16316, "date_created": 1302168934.8751619, "message": "check your config, or any 3rd party modules you have compiled in it", "group_id": 591, "id": 573997}, {"user_id": 13912, "stars": [], "topic_id": 16316, "date_created": 1302169026.0959899, "message": "if you have tweaked  IO parameters in the config without knowing what you were doing it might crash like that, but I still doubt it.", "group_id": 591, "id": 574001}, {"user_id": 28429, "stars": [{"date_created": 1302449267.852504, "user_id": 1516}], "topic_id": 16316, "date_created": 1302375949.0651791, "message": "Easy, use https://www.mturk.com/mturk/welcome give root access to your workforce, get someone to ping @evilbot once a minute and restart nginx if it's down. Voila!", "group_id": 591, "id": 604736}, {"user_id": 140, "stars": [], "topic_id": 16316, "date_created": 1302375949.85308, "message": "PONG", "group_id": 591, "id": 604737}, {"user_id": 21178, "stars": [], "topic_id": 16316, "date_created": 1302386737.8362279, "message": "You could just use the inittab.", "group_id": 591, "id": 605857}, {"user_id": 21178, "stars": [], "topic_id": 16316, "date_created": 1302386760.477767, "message": "evilbot image me inittab", "group_id": 591, "id": 605859}, {"user_id": 140, "stars": [], "topic_id": 16316, "date_created": 1302386761.9925189, "message": "http://tournasdimitrios1.files.wordpress.com/2011/02/terminal-console-inittab.png", "group_id": 591, "id": 605860}, {"user_id": 3427, "stars": [], "topic_id": 16316, "date_created": 1303120950.436748, "message": "@defunkt did you end up using god? I've an evilbot's fork adapted to Campfire that I need to keep alive too.", "group_id": 591, "id": 724586}, {"user_id": 8391, "stars": [], "topic_id": 16316, "date_created": 1308842902.4185841, "message": "https://github.com/indexzero/forever", "group_id": 591, "id": 1467091}]
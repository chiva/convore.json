[{"user_id": 1736, "stars": [], "topic_id": 39685, "date_created": 1308357829.352303, "message": "Has anyone setup code to run celerybeat as a background proc/thread (or something similar) underneath gunicorn so people can just start a single daemon? There are post-startup that look like they would make this easy.", "group_id": 81, "id": 1423949}, {"user_id": 1736, "stars": [], "topic_id": 39685, "date_created": 1308357874.882072, "message": "(same question applies to celeryd, though ALWAYS_EAGER makes that less of an issue if you want mini envs)", "group_id": 81, "id": 1423952}, {"user_id": 281, "stars": [], "topic_id": 39685, "date_created": 1308358030.6908691, "message": "I've always just had supervisord managed all of my gunicorn/celeryd/celerybeat proccesses...when I deploy new code I just bounce everything in supervisor and everythng switches over at the same time", "group_id": 81, "id": 1423963}, {"user_id": 281, "stars": [], "topic_id": 39685, "date_created": 1308358107.5738699, "message": "is there a reason your looking to have one damon manage everything other than easier startup/shutdown cmds (just curious as to the use case)?", "group_id": 81, "id": 1423967}, {"user_id": 1736, "stars": [], "topic_id": 39685, "date_created": 1308375994.8901839, "message": "For turnkey style apps it makes it really easy to get people started to just run \"manage.py gunicorncelery\" or something similar. Trying to keep the amount of required configuration to a minimum.", "group_id": 81, "id": 1425164}, {"user_id": 11592, "stars": [], "topic_id": 39685, "date_created": 1308465673.0569971, "message": "I think i'll be using \u00absupervisord -c runmystuff.ini\u00bb to launch all daemons/workers/parts at once. Brining everything under one worker process is just not that good idea.", "group_id": 81, "id": 1430525}, {"user_id": 1736, "stars": [], "topic_id": 39685, "date_created": 1308523520.4509101, "message": "@dpwiz I can't assume people will have that installed. This isn't for my own deployments, it is for other people wanting to get started (think reviewboard or transifex, endpoint apps).", "group_id": 81, "id": 1433871}, {"user_id": 1736, "stars": [], "topic_id": 39685, "date_created": 1308523547.561832, "message": "@dpwiz Also I can fork off from gunicorn as long as I can leave hooks to make sure it gets cleaned up", "group_id": 81, "id": 1433872}, {"user_id": 11592, "stars": [], "topic_id": 39685, "date_created": 1308553236.5667779, "message": "@coderanger Don't see a problem here. Just put it into pip-requirements.txt for your venv deployment script. I hope you're using it, don't you?", "group_id": 81, "id": 1436432}, {"user_id": 11592, "stars": [], "topic_id": 39685, "date_created": 1308553267.431514, "message": "Anyway, hooking around is an invitation for a failure by itself.", "group_id": 81, "id": 1436434}, {"user_id": 2362, "stars": [], "topic_id": 39685, "date_created": 1308576462.942585, "message": "It's already been said, but I wholeheartedly agree. Use supervisord, runit, or something other than gunicorn. Provide supervisor config files and they can stop/start everything with one command still.", "group_id": 81, "id": 1438348}, {"user_id": 1736, "stars": [], "topic_id": 39685, "date_created": 1308588164.7418561, "message": "@dpwiz Installing something that complex is well outside the bounds for a \"getting started\" scenario.", "group_id": 81, "id": 1440136}, {"user_id": 1736, "stars": [], "topic_id": 39685, "date_created": 1308588199.5051501, "message": "Remember, the name of the game is \"easy\". Installation _must_ be as few commands as possible and use as few concepts as possible.", "group_id": 81, "id": 1440150}, {"user_id": 11592, "stars": [], "topic_id": 39685, "date_created": 1308639413.5517581, "message": "@coderanger oh please... \"that complex\" is your responsibility, not users'. For them it's still just good old \"./start.sh\" (yeah, that 'supervisord -c mystuff/startup.ini' inside). There's nothing outside that launcher for user to know about. Of course, you'll have to provide the stuff, but it isn't that hard too, really. Just try it yourself (;", "group_id": 81, "id": 1446276}]
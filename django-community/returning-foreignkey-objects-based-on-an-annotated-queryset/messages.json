[{"user_id": 12927, "stars": [], "topic_id": 14709, "date_created": 1300894806.0114789, "message": "Hi, I have two tables, Item and Votes, I am using an annotated query with Count to find the number of each Item instance in Votes tables but cannot figure out how to turn that queryset into a queryset with the actual Item objects, anyone know a good tutorial about this or what I may be missing?", "group_id": 81, "id": 418310}, {"user_id": 2045, "stars": [], "topic_id": 14709, "date_created": 1300896043.009377, "message": "If I'm understanding you right, you don't really want an annotation, but to populate reverse foreign key relationships. Something like django-batch-select (https://github.com/lilspikey/django-batch-select) might help you.", "group_id": 81, "id": 418448}, {"user_id": 12927, "stars": [], "topic_id": 14709, "date_created": 1300896256.43262, "message": "Thanks, I am very new to this an not sure exactly what I need, I thought I needed annotate in order to get a Count of the Items in the Votes table but I could be wrong, looking into the app you suggested now, thanks again", "group_id": 81, "id": 418459}, {"user_id": 1883, "stars": [], "topic_id": 14709, "date_created": 1300912927.6187329, "message": "I think your model isn't clear.  How are Item and Vote related?", "group_id": 81, "id": 420524}, {"user_id": 12927, "stars": [], "topic_id": 14709, "date_created": 1300915480.0113151, "message": "my models and the view are here http://pastebin.com/2Fk67D38", "group_id": 81, "id": 421098}, {"user_id": 12927, "stars": [], "topic_id": 14709, "date_created": 1300915159.5920429, "message": "the Item is a ForeignKey on Votes", "group_id": 81, "id": 421036}, {"user_id": 6431, "stars": [], "topic_id": 14709, "date_created": 1300935941.4096789, "message": "An annotation will give you the count, but not the objects themselves. @joshbohde is right, you want batch select to avoid n+1 queries if you want to iterate over the Item instances themselves. In that case, annotate doesn't do you much good since you could just len() the list of Items appended to each Vote.", "group_id": 81, "id": 423543}, {"user_id": 12927, "stars": [], "topic_id": 14709, "date_created": 1300983157.1371701, "message": "thanks for pointing me in the right direction, my head was spinning but now at least i know where to go with this, much appreciated", "group_id": 81, "id": 428219}, {"user_id": 12927, "stars": [], "topic_id": 14709, "date_created": 1301105372.4509549, "message": "I am able to get the correct queryset now but still stumped on how to add a field for the number of votes for each item. I have tried it with the standard Manager and the BatchManager but cannot figure it out, do you know of any resources that explain what needs to be done for a noob such as me?", "group_id": 81, "id": 444114}, {"user_id": 6431, "stars": [], "topic_id": 14709, "date_created": 1301190096.8379459, "message": "I assume you already have the list of related model instances if you're using something like batch-select.  Why not just len() it to get the count?", "group_id": 81, "id": 448971}, {"user_id": 12927, "stars": [], "topic_id": 14709, "date_created": 1301197698.1909931, "message": "i need to count of how many times each item is in the queryset, wouldnt len() give me the total count of items in the queryset?", "group_id": 81, "id": 449284}, {"user_id": 1822, "stars": [], "topic_id": 14709, "date_created": 1301201495.9890411, "message": "This code won't work as is with a query set. But I assume this the pattern your looking for: http://snippets.dzone.com/posts/show/1629", "group_id": 81, "id": 449430}, {"user_id": 18417, "stars": [], "topic_id": 14709, "date_created": 1301204154.8398271, "message": "If you want to do a query that returns an Item or Items and doesn't need to do a join to get the Vote counts, consider adding a vote field to the Item model. Then you can override the Vote save method to increment the count.", "group_id": 81, "id": 449589}]
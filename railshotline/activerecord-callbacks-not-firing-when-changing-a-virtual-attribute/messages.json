[{"user_id": 9354, "stars": [], "topic_id": 35183, "date_created": 1305316196.4733829, "message": "@current_user.schools", "group_id": 9402, "id": 1046327}, {"user_id": 9354, "stars": [], "topic_id": 35183, "date_created": 1305315961.9171009, "message": "delegate :name, :to => :school", "group_id": 9402, "id": 1046286}, {"user_id": 9354, "stars": [], "topic_id": 35183, "date_created": 1305315979.8655429, "message": "self.school_name = School.find(school_id).name", "group_id": 9402, "id": 1046289}, {"user_id": 9354, "stars": [], "topic_id": 35183, "date_created": 1305316221.4528329, "message": "class User\n\n  has_many :user_schools\n  has_many :schools, :through => :user_schools\n\nend", "group_id": 9402, "id": 1046336}, {"user_id": 33207, "stars": [], "topic_id": 35183, "date_created": 1305316594.9737239, "message": "http://railscasts.com/episodes/102-auto-complete-association", "group_id": 9402, "id": 1046411}, {"user_id": 33207, "stars": [], "topic_id": 35183, "date_created": 1305315709.763447, "message": "class UserSchool < ActiveRecord::Base\n  \n  belongs_to :school\n  belongs_to :user\n  \n  # callbacks\n  before_save :school_name_to_id\n  after_initialize :check_for_school_change\n  after_initialize :get_school_name\n  \n  attr_accessor :school_name\n  \n  private\n  \n  def school_name_to_id\n    self.school = School.find_or_create_by_name(school_name) unless school_name.blank?\n  end\n  \n  def get_school_name\n    unless school_id.nil?\n      self.school_name = School.find(school_id).name\n    end\n  end\n  \n  # on update, ensure school name is consistent with school id\n  def check_for_school_change\n    unless school_id.nil?\n      self.school_id = School.find_or_create_by_name(school_name) unless school_name.blank?\n    end\n  end\n  \nend\n", "group_id": 9402, "id": 1046233}, {"user_id": 9354, "stars": [], "topic_id": 35183, "date_created": 1305315999.251477, "message": "def name\n  school.name\nend", "group_id": 9402, "id": 1046294}, {"user_id": 9354, "stars": [], "topic_id": 35183, "date_created": 1305316053.108932, "message": "def name=(str)\n  school.update_attribute :name, str\nend", "group_id": 9402, "id": 1046309}, {"user_id": 9354, "stars": [], "topic_id": 35183, "date_created": 1305317173.604785, "message": "to easily create those join models inside user.update_attributes", "group_id": 9402, "id": 1046557}, {"user_id": 9354, "stars": [], "topic_id": 35183, "date_created": 1305317273.204082, "message": "then you can have a `link_to` with `:method => :put` to update that user. that'll take a bit of time to craft.", "group_id": 9402, "id": 1046603}, {"user_id": 9354, "stars": [], "topic_id": 35183, "date_created": 1305316333.6107221, "message": "user.user_schools.create(\n  :school => School.find_or_create_by_name(school_name)\n)\n", "group_id": 9402, "id": 1046345}, {"user_id": 9354, "stars": [], "topic_id": 35183, "date_created": 1305316425.2136919, "message": "user.user_schools.find_or_create_by_school_id(\n  :school_id => School.find_or_create_by_name(school_name).id\n)\n", "group_id": 9402, "id": 1046365}, {"user_id": 9354, "stars": [], "topic_id": 35183, "date_created": 1305317203.996521, "message": "GET /schools?q=foo\n", "group_id": 9402, "id": 1046567}, {"user_id": 9354, "stars": [], "topic_id": 35183, "date_created": 1305317149.069958, "message": "@imderek: you might also want to look up \"accepts nested attributes for\"", "group_id": 9402, "id": 1046554}, {"user_id": 9354, "stars": [], "topic_id": 35183, "date_created": 1305317193.3345821, "message": "searching can go in SchoolsController#index", "group_id": 9402, "id": 1046563}, {"user_id": 9354, "stars": [], "topic_id": 35183, "date_created": 1305317277.318166, "message": "PUT /users/123?user_schools[][school_id]=1\n", "group_id": 9402, "id": 1046604}, {"user_id": 9354, "stars": [], "topic_id": 35183, "date_created": 1305317323.1579871, "message": "that way it'll eventually get to @user.update_attributes(params[:user]) and do some magic for you", "group_id": 9402, "id": 1046611}]
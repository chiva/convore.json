[{"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302554560.6999609, "message": "oh, right.hm", "group_id": 4812, "id": 629649}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302554090.6615109, "message": "yeah", "group_id": 4812, "id": 629515}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302553358.7896869, "message": "Hello!", "group_id": 4812, "id": 629232}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302553396.864228, "message": "anyway.", "group_id": 4812, "id": 629252}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302553410.8815689, "message": "But it makes the convore->irc bot easy though", "group_id": 4812, "id": 629257}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302553391.50474, "message": "would rather just have global topic", "group_id": 4812, "id": 629249}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302553475.7400639, "message": "So I think", "group_id": 4812, "id": 629288}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302553344.7373109, "message": "hello?", "group_id": 4812, "id": 629224}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302553444.363833, "message": "maybe even #defines", "group_id": 4812, "id": 629274}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302553472.7400711, "message": "oio_timer_init(ol_handle* h, double timeout, double repeat)", "group_id": 4812, "id": 629285}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302553501.258276, "message": "int oio_timer_handle_new(*oio_handle handle)", "group_id": 4812, "id": 629302}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302553441.13343, "message": "I think the best would be if oio_timer could be really thin on unix", "group_id": 4812, "id": 629271}, {"user_id": 28626, "stars": [], "topic_id": 18682, "date_created": 1302554139.545454, "message": "oh, so this gets dumped into the node.js chat?", "group_id": 4812, "id": 629527}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302553645.732698, "message": "oio_timeout(oio_req *req, double timeout)", "group_id": 4812, "id": 629362}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302554530.996192, "message": "allright", "group_id": 4812, "id": 629638}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302554191.6821921, "message": "i suspect there is some optimization that can be done when you know that the timer will fire again", "group_id": 4812, "id": 629544}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302553385.1555109, "message": "group -> topic", "group_id": 4812, "id": 629246}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302553370.8902299, "message": "i feel like convore could have fewer levels of channels", "group_id": 4812, "id": 629238}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302554464.9817259, "message": "i think the cancel should be general to all oio_req", "group_id": 4812, "id": 629612}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302553387.5130811, "message": "seems too much", "group_id": 4812, "id": 629247}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302553399.868274, "message": "Yes I guess that would be better.", "group_id": 4812, "id": 629253}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302553551.9340091, "message": "int oio_timer_set(oio_handle *handle, oio_req *req, double timeout)", "group_id": 4812, "id": 629327}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302553611.4157419, "message": "just force people to call timer_set again?", "group_id": 4812, "id": 629348}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302553833.8933489, "message": "yes me too. So oio_interval(oio_req *req, double interval) is not a good idea because the req will be sent to a callback multiple times", "group_id": 4812, "id": 629418}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302553596.017899, "message": "what about for setInterval?", "group_id": 4812, "id": 629342}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302554412.09688, "message": "I don't know, I don't think libev optimizes it. The pain with timers is in keeping your list with timeouts sorted. I don't think that is going away when you have a repeating timer.", "group_id": 4812, "id": 629600}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302554537.9333379, "message": "but how do you free a timer?", "group_id": 4812, "id": 629639}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302555286.0102839, "message": "int oio_cancel(oio_req *req);\n^- does this *guarantee* to cancel a request? On windows that's gonna be hard.", "group_id": 4812, "id": 629824}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302554494.496989, "message": "oio_cancel()", "group_id": 4812, "id": 629626}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302553611.951503, "message": "maybe have an optional repeat", "group_id": 4812, "id": 629349}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302553674.0511661, "message": "I don't think calling timer_set again is that bad", "group_id": 4812, "id": 629374}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302553718.7129581, "message": "Also, there is this problem: you don't want to naively reuse the oio_req", "group_id": 4812, "id": 629389}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302554148.954864, "message": "Hmm looks like I was a little stuck on the old api.\nint oio_timer_handle_init(oio_handle *handle, *oio_close_cb);\nint oio_timer_timeout(oio_req *req, double timeout);\nint oio_timer_cancel(oio_handle *handle);", "group_id": 4812, "id": 629528}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302554704.467073, "message": "maybe we should not have a oio_timer handle", "group_id": 4812, "id": 629678}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302553778.56951, "message": "i like the consistency of having these oio_req objects be associated with each async function call.", "group_id": 4812, "id": 629404}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302554549.393213, "message": "you need something like close and close_cb", "group_id": 4812, "id": 629644}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302554717.5259891, "message": "just send oio_timeout straight", "group_id": 4812, "id": 629680}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302555357.875015, "message": "can be freed immediately? -> can't be done on windows", "group_id": 4812, "id": 629854}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302555398.6686311, "message": "yes", "group_id": 4812, "id": 629866}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302554600.97403, "message": "if the timer isnt in progress then i think the handle can be released", "group_id": 4812, "id": 629657}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302554942.0261681, "message": "nod", "group_id": 4812, "id": 629722}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302556037.0231581, "message": "I think we should have a cancel_cb for oio_reqs. It can be null. It gets called when:\n- A request is cancelled\n- A request is cancelled because the socket/file handle was  closed\n- The operation fails and the normal cb will never be called\nSo for each oio_req either the normal cb or the cancel cb will be called exactly once", "group_id": 4812, "id": 630051}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302555333.7228351, "message": "guarantees that the callback is not made and oio_req can be freed", "group_id": 4812, "id": 629841}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302555451.3803301, "message": "I want to keep it that way I think", "group_id": 4812, "id": 629883}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302555264.777072, "message": "typedef void (*oio_timer_cb)(oio_req *req, double skew);\nint oio_timer_timeout(oio_req *req, double timeout);", "group_id": 4812, "id": 629813}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302555394.3112509, "message": "ah right.. because you hav ethe OVERLAPPED inside the req?", "group_id": 4812, "id": 629865}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302557602.6085889, "message": "CancelIoEx *might* cancel your io. But it doesn't cancel if your operation has already completed or is about to be completed.", "group_id": 4812, "id": 630463}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302557250.540307, "message": "how does CancelIoEx() work?", "group_id": 4812, "id": 630346}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302557258.1689689, "message": "it seems we should follow that", "group_id": 4812, "id": 630347}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302559001.3514371, "message": "So what do you think of the cancel_cb idea?", "group_id": 4812, "id": 630792}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302561018.1322479, "message": "like in libev - revents", "group_id": 4812, "id": 631274}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302560722.618582, "message": "okay, i like it", "group_id": 4812, "id": 631213}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302560784.7841811, "message": "it's debatable :-)", "group_id": 4812, "id": 631229}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302560801.3731019, "message": "I think cancelling reads and writes is actually a bad idea.", "group_id": 4812, "id": 631233}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302560838.176151, "message": "It is hard to get conceptually right and people are not going to cancel a read/write unless they want to close the file or socket. Then they should just do that.", "group_id": 4812, "id": 631240}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302560749.033108, "message": "another 64 bits per req, but - okay", "group_id": 4812, "id": 631219}, {"user_id": 13830, "stars": [], "topic_id": 18682, "date_created": 1302561009.9546871, "message": "yeah - maybe just a flags", "group_id": 4812, "id": 631272}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302561255.935482, "message": "have a cancelled flag", "group_id": 4812, "id": 631319}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302560930.4754801, "message": "If that 64 bits per req is a problem, then we could reintroduce the `err` parameter (maybe just call it `cancelled`?) that gets passed to eio_whatever_cb", "group_id": 4812, "id": 631260}, {"user_id": 28627, "stars": [], "topic_id": 18682, "date_created": 1302561180.4488659, "message": "yes - I feel good about that", "group_id": 4812, "id": 631309}]
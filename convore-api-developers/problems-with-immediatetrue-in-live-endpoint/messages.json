[{"user_id": 1706, "stars": [], "topic_id": 35671, "date_created": 1305653757.8504131, "message": "Hey, I'm having some issues with the way that live handles the immediate=true parameter. To explain:", "group_id": 2780, "id": 1085378}, {"user_id": 1706, "stars": [], "topic_id": 35671, "date_created": 1305653849.4750459, "message": "When I'm establishing a 'session' to the server I need a way to make sure that my cached list of groups is coherent. The scheme I use (which I just wired up) is to:", "group_id": 2780, "id": 1085397}, {"user_id": 1706, "stars": [], "topic_id": 35671, "date_created": 1305654059.4460421, "message": "The problem I'm having is hat live?immediate=true treats \"unknown cursor\" and \"no new messages during immediate\" as the same condition", "group_id": 2780, "id": 1085440}, {"user_id": 1706, "stars": [], "topic_id": 35671, "date_created": 1305654015.371639, "message": "1 - hit /live with a null cursor and immediate=true\n2 - note the last cursor in the payload\n3 - fetch the account groups, marking any groups that are different from my cache as requiring a topic sync\n4 - hit /live with the latest cursor and immediate=true\n5 - if the live payload does not contain group-mutating events, my session is cleanly established and I know my groups cache is clean\n6 - otherwise, note the most recent cursor and start again at step 3", "group_id": 2780, "id": 1085428}, {"user_id": 1706, "stars": [], "topic_id": 35671, "date_created": 1305654308.3093719, "message": "However, that might break existing clients... so a reasonable alternative (to me anyhow) is some sort of differentiation in the error payload that lets me know that even though there are no new messages, the cursor I supplied is valid.", "group_id": 2780, "id": 1085501}, {"user_id": 1706, "stars": [], "topic_id": 35671, "date_created": 1305654261.6734221, "message": "Ideally, live/?immediate=true&cursor=valid_cursor would just return the same payload as live?cursor=valid_cursor does when there are no new messages.", "group_id": 2780, "id": 1085492}, {"user_id": 1706, "stars": [], "topic_id": 35671, "date_created": 1306268400.158967, "message": "update: imho this is still an issue in general, but I coded around it so it's is no longer a pain-point for me", "group_id": 2780, "id": 1170184}]